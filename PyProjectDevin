import csv
import matplotlib.pyplot as plt
import numpy as np

# Step 1: Read the file and print number of lines
with open("data11Oct21.csv", "r") as file:
    lines = file.readlines()
print(f"This file has {len(lines)} lines")

# Step 2: Get headers from line 3 (index 2) and sort them
with open("data11Oct21.csv", "r") as file:
    header_line = lines[2].strip()
    headers = header_line.split(",")
    sorted_headers = sorted(headers)
print(f"Headers in alphabetical order: {sorted_headers}")

# Step 3: Extract all values for the given column
column_name = "Exhaust Press(Torr)"
column_values = []

with open("data11Oct21.csv", "r") as file:
    for _ in range(2):
        next(file)

    reader = csv.DictReader(file)

    for row in reader:
        value = row.get(column_name)

        if value:
            column_values.append(value)

print(f"The maximum value in {column_name} is: {max(column_values)}")
print(f"The minimum value in {column_name} is: {min(column_values)}")

# Step 5: Use pyplot to plot temperature vs time.
with open("data11Oct21.csv", "r") as file:
    time_col = "Run-Time(min)"
    temp_col = "Chamber TC1(C)"

    time_values = []
    temp_values = []

with open("data11Oct21.csv", "r") as file:
        for _ in range(2):
            next(file)

        reader = csv.DictReader(file)

        for row in reader:
            t = row.get(time_col)
            temp = row.get(temp_col)

            if t and temp:
                try:
                    time_values.append(float(t))
                    temp_values.append(float(temp))
                except ValueError:
                    continue
plt.plot(time_values, temp_values, c='cyan')
plt.xlabel("Run-Time (min)")
plt.ylabel("Chamber TC1 (°C)")
plt.title("Chamber Temperature vs Run-Time")
plt.grid(True)
plt.tight_layout()
plt.show()

# Step 6: Plot TC2 vs Time
with open("data11Oct21.csv", "r") as file:
    time_col = "Run-Time(min)"
    temp2_col = "Chamber TC2(°C)"

    time_values = []
    temp2_values = []

    with open("data11Oct21.csv", "r") as file:
        for _ in range(2):
            next(file)

        reader = csv.DictReader(file)

        for row in reader:
            t = row.get(time_col)
            temp2 = row.get(temp2_col)

            if t and temp2:
                try:
                    time_values.append(float(t))
                    temp2_values.append(float(temp2))
                except ValueError:
                    continue
plt.plot(time_values, temp2_values, c='red')
plt.xlabel("Run-Time (min)")
plt.ylabel("Chamber TC2(C)")
plt.title("Chamber Temperature 2 vs Run-Time")
plt.grid(True)
plt.tight_layout()
plt.show()





